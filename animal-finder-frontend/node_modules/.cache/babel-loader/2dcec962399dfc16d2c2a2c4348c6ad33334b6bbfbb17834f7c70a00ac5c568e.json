{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"https://localhost:7221/api/auth/\";\nconst register = (firstName, lastName, email, password) => {\n  return axios.post(API_URL + \"register\", {\n    username,\n    password\n  });\n};\nconst login = (email, password) => {\n  return axios.post(API_URL + \"login\", {\n    email,\n    password\n  }).then(response => {\n    console.log(\"Full login response:\", response);\n    if (response.data && response.data.token) {\n      const userData = {\n        token: response.data.token,\n        username: email\n      };\n      console.log(\"Saving user data to localStorage:\", userData);\n      localStorage.setItem(\"user\", JSON.stringify(userData));\n      return userData; // Returnera hela användarobjektet\n    } else {\n      throw new Error(\"No token received\");\n    }\n  });\n};\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\nexport default {\n  register,\n  login,\n  logout\n};","map":{"version":3,"names":["axios","API_URL","register","firstName","lastName","email","password","post","username","login","then","response","console","log","data","token","userData","localStorage","setItem","JSON","stringify","Error","logout","removeItem"],"sources":["C:/Users/Elev/source/Fullstack/AnimalFinder/animal-finder-frontend/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"https://localhost:7221/api/auth/\";\r\n\r\nconst register = (firstName, lastName, email, password) => {\r\n  return axios.post(API_URL + \"register\", {\r\n    username,\r\n    password,\r\n  });\r\n};\r\n\r\nconst login = (email, password) => {\r\n  return axios\r\n    .post(API_URL + \"login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n      console.log(\"Full login response:\", response); \r\n\r\n      if (response.data && response.data.token) {\r\n        const userData = {\r\n          token: response.data.token,\r\n          username: email,\r\n        };\r\n        console.log(\"Saving user data to localStorage:\", userData);\r\n        localStorage.setItem(\"user\", JSON.stringify(userData));\r\n        return userData; // Returnera hela användarobjektet\r\n      } else {\r\n        throw new Error(\"No token received\");\r\n      }\r\n    });\r\n};\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nexport default {\r\n  register,\r\n  login,\r\n  logout,\r\n};\r\n\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,kCAAkC;AAElD,MAAMC,QAAQ,GAAGA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EACzD,OAAON,KAAK,CAACO,IAAI,CAACN,OAAO,GAAG,UAAU,EAAE;IACtCO,QAAQ;IACRF;EACF,CAAC,CAAC;AACJ,CAAC;AAED,MAAMG,KAAK,GAAGA,CAACJ,KAAK,EAAEC,QAAQ,KAAK;EACjC,OAAON,KAAK,CACTO,IAAI,CAACN,OAAO,GAAG,OAAO,EAAE;IACvBI,KAAK;IACLC;EACF,CAAC,CAAC,CACDI,IAAI,CAAEC,QAAQ,IAAK;IAClBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,QAAQ,CAAC;IAE7C,IAAIA,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACG,IAAI,CAACC,KAAK,EAAE;MACxC,MAAMC,QAAQ,GAAG;QACfD,KAAK,EAAEJ,QAAQ,CAACG,IAAI,CAACC,KAAK;QAC1BP,QAAQ,EAAEH;MACZ,CAAC;MACDO,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEG,QAAQ,CAAC;MAC1DC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;MACtD,OAAOA,QAAQ,CAAC,CAAC;IACnB,CAAC,MAAM;MACL,MAAM,IAAIK,KAAK,CAAC,mBAAmB,CAAC;IACtC;EACF,CAAC,CAAC;AACN,CAAC;AACD,MAAMC,MAAM,GAAGA,CAAA,KAAM;EACnBL,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,eAAe;EACbrB,QAAQ;EACRO,KAAK;EACLa;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}