{"ast":null,"code":"import axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\";\nconst API_URL = \"https://localhost:7221/api/auth/\";\n\n//sending a post request to register\nconst register = (firstName, lastName, email, password) => {\n  return axios.post(API_URL + \"register\", {\n    firstName,\n    lastName,\n    email,\n    password\n  });\n};\nconst login = (email, password) => {\n  return axios\n  //sending a post request to login.\n  .post(API_URL + \"login\", {\n    email,\n    password\n  }).then(response => {\n    console.log(\"Full login response:\", response);\n    //If response contains jwt-token it will be decoded\n    if (response.data && response.data.token) {\n      const decodedToken = jwtDecode(response.data.token);\n      const userData = {\n        token: response.data.token,\n        username: decodedToken.unique_name,\n        firstName: decodedToken.FirstName,\n        lastName: decodedToken.LastName\n      };\n      console.log(\"First Name: \" + decodedToken.FirstName);\n      console.log(\"Saving user data to localStorage:\", userData);\n      localStorage.setItem(\"user\", JSON.stringify(userData));\n      return userData;\n    } else {\n      throw new Error(\"No token received\");\n    }\n  });\n};\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\nexport default {\n  register,\n  login,\n  logout\n};","map":{"version":3,"names":["axios","jwtDecode","API_URL","register","firstName","lastName","email","password","post","login","then","response","console","log","data","token","decodedToken","userData","username","unique_name","FirstName","LastName","localStorage","setItem","JSON","stringify","Error","logout","removeItem"],"sources":["C:/Users/Elev/source/Fullstack/AnimalFinder/animal-finder-frontend/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nconst API_URL = \"https://localhost:7221/api/auth/\";\r\n\r\n\r\n//sending a post request to register\r\nconst register = (firstName, lastName, email, password) => {\r\n  return axios.post(API_URL + \"register\", {\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    password,\r\n  });\r\n};\r\n\r\n \r\nconst login = (email, password) => {\r\n  return axios\r\n  //sending a post request to login.\r\n    .post(API_URL + \"login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n      console.log(\"Full login response:\", response);\r\n      //If response contains jwt-token it will be decoded\r\n      if (response.data && response.data.token) {\r\n        const decodedToken = jwtDecode(response.data.token);\r\n        \r\n        const userData = {\r\n          token: response.data.token,\r\n          username: decodedToken.unique_name,\r\n          firstName: decodedToken.FirstName,\r\n          lastName: decodedToken.LastName,\r\n        };\r\n        console.log(\"First Name: \" + decodedToken.FirstName);\r\n        console.log(\"Saving user data to localStorage:\", userData);\r\n        localStorage.setItem(\"user\", JSON.stringify(userData));\r\n        return userData;\r\n      } else {\r\n        throw new Error(\"No token received\");\r\n      }\r\n    });\r\n};\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nexport default {\r\n  register,\r\n  login,\r\n  logout,\r\n};\r\n\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY;AAEtC,MAAMC,OAAO,GAAG,kCAAkC;;AAGlD;AACA,MAAMC,QAAQ,GAAGA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EACzD,OAAOP,KAAK,CAACQ,IAAI,CAACN,OAAO,GAAG,UAAU,EAAE;IACtCE,SAAS;IACTC,QAAQ;IACRC,KAAK;IACLC;EACF,CAAC,CAAC;AACJ,CAAC;AAGD,MAAME,KAAK,GAAGA,CAACH,KAAK,EAAEC,QAAQ,KAAK;EACjC,OAAOP;EACP;EAAA,CACGQ,IAAI,CAACN,OAAO,GAAG,OAAO,EAAE;IACvBI,KAAK;IACLC;EACF,CAAC,CAAC,CACDG,IAAI,CAAEC,QAAQ,IAAK;IAClBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,QAAQ,CAAC;IAC7C;IACA,IAAIA,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACG,IAAI,CAACC,KAAK,EAAE;MACxC,MAAMC,YAAY,GAAGf,SAAS,CAACU,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;MAEnD,MAAME,QAAQ,GAAG;QACfF,KAAK,EAAEJ,QAAQ,CAACG,IAAI,CAACC,KAAK;QAC1BG,QAAQ,EAAEF,YAAY,CAACG,WAAW;QAClCf,SAAS,EAAEY,YAAY,CAACI,SAAS;QACjCf,QAAQ,EAAEW,YAAY,CAACK;MACzB,CAAC;MACDT,OAAO,CAACC,GAAG,CAAC,cAAc,GAAGG,YAAY,CAACI,SAAS,CAAC;MACpDR,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEI,QAAQ,CAAC;MAC1DK,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAAC,CAAC;MACtD,OAAOA,QAAQ;IACjB,CAAC,MAAM;MACL,MAAM,IAAIS,KAAK,CAAC,mBAAmB,CAAC;IACtC;EACF,CAAC,CAAC;AACN,CAAC;AACD,MAAMC,MAAM,GAAGA,CAAA,KAAM;EACnBL,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,eAAe;EACbzB,QAAQ;EACRM,KAAK;EACLkB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}